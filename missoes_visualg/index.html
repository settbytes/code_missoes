<!DOCTYPE html>
<html lang="pt-BR">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <title>MissÃµes VisuAlg: ExercÃ­cios de LÃ³gica</title>
Â  Â  <link rel="icon" href="iconpage.ico" type="image/x-icon">
Â  Â  <style>
Â  Â  Â  Â  /* ... (ESTILOS CSS MANTIDOS CORRETOS) ... */
Â  Â  Â  Â  :root {
Â  Â  Â  Â  Â  Â  --cor-fundo: #2c3e50;
Â  Â  Â  Â  Â  Â  --cor-primaria: #2ecc71;
Â  Â  Â  Â  Â  Â  --cor-secundaria: #3498db;
Â  Â  Â  Â  Â  Â  --cor-terciaria: #e74c3c;
Â  Â  Â  Â  Â  Â  --cor-texto-claro: #ecf0f1;
Â  Â  Â  Â  Â  Â  --cor-cartao: #34495e;
Â  Â  Â  Â  Â  Â  --cor-xp: #f1c40f;
Â  Â  Â  Â  }

Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  font-family: 'Arial', sans-serif;
Â  Â  Â  Â  Â  Â  background-color: var(--cor-fundo);
Â  Â  Â  Â  Â  Â  color: var(--cor-texto-claro);
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  padding: 0px;Â 
Â  Â  Â  Â  Â  Â  overflow-x: hidden;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  align-items: center;Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  .container {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  max-width: 1000px;
Â  Â  Â  Â  Â  Â  padding: 0;Â 
Â  Â  Â  Â  Â  Â  box-sizing: border-box;Â 
Â  Â  Â  Â  Â  Â  margin: 0 auto;Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- Estilos para o Overlay do VÃ­deo --- */
Â  Â  Â  Â  #video-overlay {
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  background-color: var(--cor-fundo);
Â  Â  Â  Â  Â  Â  z-index: 1050;Â 
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  Â  Â  transition: opacity 0.5s ease;
Â  Â  Â  Â  }

Â  Â  Â  Â  .video-moldura {
Â  Â  Â  Â  Â  Â  background-color: var(--cor-cartao);
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
Â  Â  Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  }

Â  Â  Â  Â  .video-moldura video {
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  max-width: 800px;Â 
Â  Â  Â  Â  Â  Â  height: auto;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  border: 1px solid var(--cor-fundo);
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- Estilos para o BotÃ£o Play Centralizado --- */
Â  Â  Â  Â  #play-button-overlay {
Â  Â  Â  Â  Â  Â  position: absolute;Â 
Â  Â  Â  Â  Â  Â  top: 50%;
Â  Â  Â  Â  Â  Â  left: 50%;
Â  Â  Â  Â  Â  Â  transform: translate(-50%, -50%);Â 
Â  Â  Â  Â  Â  Â  width: 80px;
Â  Â  Â  Â  Â  Â  height: 80px;
Â  Â  Â  Â  Â  Â  background-color: rgba(0, 0, 0, 0.6);Â 
Â  Â  Â  Â  Â  Â  border-radius: 50%;Â 
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  z-index: 1060;Â 
Â  Â  Â  Â  Â  Â  pointer-events: none;Â 
Â  Â  Â  Â  Â  Â  opacity: 0;Â 
Â  Â  Â  Â  Â  Â  transition: opacity 0.3s;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* O TriÃ¢ngulo de Play Ã© feito com bordas */
Â  Â  Â  Â  #play-button-overlay::before {
Â  Â  Â  Â  Â  Â  content: '';
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: 50%;
Â  Â  Â  Â  Â  Â  left: 55%;Â 
Â  Â  Â  Â  Â  Â  transform: translate(-50%, -50%);
Â  Â  Â  Â  Â  Â  border-style: solid;
Â  Â  Â  Â  Â  Â  border-width: 15px 0 15px 25px;
Â  Â  Â  Â  Â  Â  border-color: transparent transparent transparent var(--cor-texto-claro);Â 
Â  Â  Â  Â  }
Â  Â  Â  Â  #btn-iniciar-pratica {
Â  Â  Â  Â  Â  Â  background-color: var(--cor-primaria);Â 
Â  Â  Â  Â  Â  Â  color: var(--cor-fundo);
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  padding: 15px 30px;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  font-size: 1.2em;
Â  Â  Â  Â  Â  Â  letter-spacing: 1px;
Â  Â  Â  Â  Â  Â  transition: background-color 0.3s, transform 0.1s;
Â  Â  Â  Â  }

Â  Â  Â  Â  #btn-iniciar-pratica:hover {
Â  Â  Â  Â  Â  Â  background-color: #27ae60;
Â  Â  Â  Â  Â  Â  transform: translateY(-2px);
Â  Â  Â  Â  }
Â  Â  Â  Â  /* --- Fim dos Estilos de Overlay --- */


Â  Â  Â  Â  header {
Â  Â  Â  Â  Â  Â  background-color: var(--cor-cartao);
Â  Â  Â  Â  Â  Â  padding: 15px 0;Â 
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
Â  Â  Â  Â  Â  Â  margin-bottom: 25px;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  }

Â  Â  Â  Â  header h1 {
Â  Â  Â  Â  Â  Â  padding-left: 20px;Â 
Â  Â  Â  Â  Â  Â  font-size: 1.8em;
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  color: var(--cor-primaria);
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  #btn-reset {
Â  Â  Â  Â  Â  Â  background-color: var(--cor-terciaria);
Â  Â  Â  Â  Â  Â  color: var(--cor-texto-claro);
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  padding: 12px 20px;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  font-size: 0.9em;
Â  Â  Â  Â  Â  Â  margin-right: 20px;
Â  Â  Â  Â  Â  Â  transition: background-color 0.3s, opacity 0.3s;
Â  Â  Â  Â  }

Â  Â  Â  Â  #btn-reset:hover {
Â  Â  Â  Â  Â  Â  background-color: #c0392b;
Â  Â  Â  Â  }

Â  Â  Â  Â  #btn-menu-principal {
Â  Â  Â  Â  Â  Â  background-color: var(--cor-secundaria);
Â  Â  Â  Â  Â  Â  color: var(--cor-texto-claro);
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  padding: 12px 20px;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  font-size: 0.9em;
Â  Â  Â  Â  Â  Â  margin-right: 20px;
Â  Â  Â  Â  Â  Â  transition: background-color 0.3s, opacity 0.3s;
Â  Â  Â  Â  }

Â  Â  Â  Â  #btn-menu-principal:hover {
Â  Â  Â  Â  Â  Â  background-color: #2980b9;
Â  Â  Â  Â  }

Â  Â  Â  Â  .status-box {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  gap: 20px;
Â  Â  Â  Â  Â  Â  margin-right: 20px;Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  .status-item {
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  padding: 8px 15px;
Â  Â  Â  Â  Â  Â  background-color: var(--cor-fundo);
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  min-width: 100px;
Â  Â  Â  Â  Â  Â  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.5);
Â  Â  Â  Â  }

Â  Â  Â  Â  .status-item span {
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  font-size: 1.5em;
Â  Â  Â  Â  }

Â  Â  Â  Â  #xp-value { color: var(--cor-xp); }
Â  Â  Â  Â  #level-value { color: var(--cor-secundaria); }

Â  Â  Â  Â  .tabs {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  Â  Â  border-bottom: 2px solid var(--cor-cartao);
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  padding: 0 20px;Â 
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  }

Â  Â  Â  Â  .tab-button {
Â  Â  Â  Â  Â  Â  padding: 12px 25px;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  background-color: var(--cor-fundo);
Â  Â  Â  Â  Â  Â  color: var(--cor-texto-claro);
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  transition: background-color 0.3s, color 0.3s, border-bottom 0.3s;
Â  Â  Â  Â  Â  Â  flex-grow: 1;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  border-radius: 5px 5px 0 0;
Â  Â  Â  Â  Â  Â  opacity: 0.7;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .tab-button.locked {
Â  Â  Â  Â  Â  Â  cursor: not-allowed;
Â  Â  Â  Â  Â  Â  color: var(--cor-terciaria);
Â  Â  Â  Â  Â  Â  opacity: 0.5;
Â  Â  Â  Â  Â  Â  background-color: #2c3e50;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .tab-button.locked:hover {
Â  Â  Â  Â  Â  Â  background-color: #2c3e50;
Â  Â  Â  Â  Â  Â  color: var(--cor-terciaria);
Â  Â  Â  Â  Â  Â  opacity: 0.7;
Â  Â  Â  Â  }

Â  Â  Â  Â  .tab-button.active {
Â  Â  Â  Â  Â  Â  background-color: var(--cor-cartao);
Â  Â  Â  Â  Â  Â  color: var(--cor-primaria);
Â  Â  Â  Â  Â  Â  border-bottom: 3px solid var(--cor-primaria);
Â  Â  Â  Â  Â  Â  opacity: 1;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  #btn-basico.active { border-bottom-color: var(--cor-primaria); color: var(--cor-primaria);}
Â  Â  Â  Â  #btn-intermediario.active { border-bottom-color: var(--cor-secundaria); color: var(--cor-secundaria);}
Â  Â  Â  Â  #btn-avancado.active { border-bottom-color: var(--cor-terciaria); color: var(--cor-terciaria);}

Â  Â  Â  Â  .missions-container {
Â  Â  Â  Â  Â  Â  background-color: var(--cor-cartao);
Â  Â  Â  Â  Â  Â  padding: 20px;Â 
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
Â  Â  Â  Â  }

Â  Â  Â  Â  .mission-level { display: none; }
Â  Â  Â  Â  .mission-level.active { display: block; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .mission-card {
Â  Â  Â  Â  Â  Â  background-color: #2c3e50;
Â  Â  Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  Â  Â  margin-bottom: 15px;
Â  Â  Â  Â  Â  Â  border-left: 5px solid var(--cor-primaria);
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  transition: transform 0.2s, box-shadow 0.2s;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .mission-card.intermediario { border-left-color: var(--cor-secundaria); }
Â  Â  Â  Â  .mission-card.avancado { border-left-color: var(--cor-terciaria); }

Â  Â  Â  Â  .mission-info {
Â  Â  Â  Â  Â  Â  flex-grow: 1;
Â  Â  Â  Â  Â  Â  padding-right: 45px;Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  .mission-info h3 {
Â  Â  Â  Â  Â  Â  margin: 0 0 5px 0;
Â  Â  Â  Â  Â  Â  font-size: 1.1em;
Â  Â  Â  Â  Â  Â  color: var(--cor-xp);
Â  Â  Â  Â  }

Â  Â  Â  Â  .mission-info p {
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  font-size: 0.9em;
Â  Â  Â  Â  Â  Â  line-height: 1.4;
Â  Â  Â  Â  Â  Â  text-align: justify;
Â  Â  Â  Â  }


Â  Â  Â  Â  .mission-action button {
Â  Â  Â  Â  Â  Â  min-width: 90px;Â 
Â  Â  Â  Â  Â  Â  background-color: var(--cor-primaria);
Â  Â  Â  Â  Â  Â  color: var(--cor-fundo);
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  padding: 10px 15px;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  transition: background-color 0.3s, transform 0.1s;
Â  Â  Â  Â  }

Â  Â  Â  Â  .modal {
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  z-index: 1000;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  overflow: auto;
Â  Â  Â  Â  Â  Â  background-color: rgba(0,0,0,0.7);
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  padding: 10px;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  #confirm-modal, #lock-modal {
Â  Â  Â  Â  Â  Â  z-index: 1010;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .modal-content {
Â  Â  Â  Â  Â  Â  background-color: var(--cor-fundo);
Â  Â  Â  Â  Â  Â  padding: 20px 30px;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  border: 3px solid var(--cor-xp);
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  box-shadow: 0 5px 15px rgba(0,0,0,0.5);
Â  Â  Â  Â  Â  Â  animation: fadeIn 0.5s;
Â  Â  Â  Â  Â  Â  width: fit-content;Â 
Â  Â  Â  Â  Â  Â  max-width: calc(100% - 40px);
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .modal-content.ultimate h2 {
Â  Â  Â  Â  Â  Â  color: var(--cor-xp);
Â  Â  Â  Â  Â  Â  font-size: clamp(1.2em, 4vw, 1.8em);
Â  Â  Â  Â  Â  Â  white-space: nowrap;Â 
Â  Â  Â  Â  Â  Â  margin-top: 0;Â 
Â  Â  Â  Â  Â  Â  margin-bottom: 15px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .modal-content.confirm h2 {
Â  Â  Â  Â  Â  Â  color: var(--cor-terciaria);
Â  Â  Â  Â  }

Â  Â  Â  Â  .modal-buttons {
Â  Â  Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-around;
Â  Â  Â  Â  Â  Â  gap: 15px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .close-button, .confirm-button {
Â  Â  Â  Â  Â  Â  padding: 10px 20px;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  font-size: 1em;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .close-button {
Â  Â  Â  Â  Â  Â  background-color: #7f8c8d;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .confirm-button.reset {
Â  Â  Â  Â  Â  Â  background-color: var(--cor-terciaria);
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  }

Â  Â  Â  Â  @keyframes fadeIn {
Â  Â  Â  Â  Â  Â  from { opacity: 0; transform: scale(0.9); }
Â  Â  Â  Â  Â  Â  to { opacity: 1; transform: scale(1); }
Â  Â  Â  Â  }

Â  Â  </style>
</head>
<body>
Â  Â Â 
Â  Â  <div id="video-overlay">
Â  Â  Â  Â  <div class="video-moldura">
Â  Â  Â  Â  Â  Â  <video id="intro-video" width="800" autoplay playsinline>Â 
Â  Â  Â  Â  Â  Â  Â  Â  <source src="avatar1.mp4" type="video/mp4">
Â  Â  Â  Â  Â  Â  Â  Â  Seu navegador nÃ£o suporta a tag de vÃ­deo.
Â  Â  Â  Â  Â  Â  </video>
Â  Â  Â  Â  Â  Â  <div id="play-button-overlay" onclick="startVideo()"></div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <button id="btn-iniciar-pratica" onclick="lockScreen(); iniciarPratica();">COMEÃ‡AR A PRATICAR</button>
Â  Â  </div>
Â  Â  <audio id="motivational-audio" preload="auto"></audio>
Â  Â  Â  Â Â 
Â  Â  <audio id="checkin-audio" src="checkin.mp3" preload="auto"></audio>

Â  Â  <div id="motivational-modal" class="modal">
Â  Â  Â  Â  <div class="modal-content" id="modal-content-area">
Â  Â  Â  Â  Â  Â  <h2 id="modal-title">NÃ­vel ConcluÃ­do!</h2>
Â  Â  Â  Â  Â  Â  <p id="modal-message"></p>
Â  Â  Â  Â  Â  Â  <button class="close-button" onclick="closeModal()">Ã“timo!</button>
Â  Â  Â  Â  </div>
Â  Â  </div>
Â  Â Â 
Â  Â  <div id="confirm-modal" class="modal">
Â  Â  Â  Â  <div class="modal-content confirm">
Â  Â  Â  Â  Â  Â  <h2>ğŸš¨ AtenÃ§Ã£o! ConfirmaÃ§Ã£o NecessÃ¡ria</h2>
Â  Â  Â  Â  Â  Â  <p>Tem certeza que deseja desmarcar todas as missÃµes e zerar seu XP e NÃ­vel? Esta aÃ§Ã£o nÃ£o pode ser desfeita.</p>
Â  Â  Â  Â  Â  Â  <div class="modal-buttons">
Â  Â  Â  Â  Â  Â  Â  Â  <button class="confirm-button reset" onclick="confirmReset()">Sim, Reiniciar Tudo</button>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="close-button" onclick="closeConfirmModal()">Cancelar</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>
Â  Â Â 
Â  Â  <div id="lock-modal" class="modal">
Â  Â  Â  Â  <div class="modal-content confirm">
Â  Â  Â  Â  Â  Â  <h2>ğŸ”’ NÃ­vel Bloqueado!</h2>
Â  Â  Â  Â  Â  Â  <p id="lock-message"></p>
Â  Â  Â  Â  Â  Â  <button class="close-button" onclick="closeLockModal()">Entendi</button>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div class="container">
Â  Â  Â  Â  <header>
Â  Â  Â  Â  Â  Â  <h1 style="display: flex; align-items: center;">
Â  Â  Â  Â  Â  Â  Â  Â  <span style="color:var(--cor-xp);">ğŸ› ï¸</span>&nbsp;MissÃµes VisuAlg
Â  Â  Â  Â  Â  Â  </h1>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div style="display: flex; align-items: center;">
		Â  Â  Â  Â  <button id="btn-menu-principal" onclick="goToMainMenu()">Menu Principal</button>
Â  Â  Â  Â  Â  Â  Â  Â  <button id="btn-reset" onclick="triggerResetConfirmation()">Reiniciar Tudo</button>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="status-box">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="status-item">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>XP</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span id="xp-value">0</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="status-item">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>NÃVEL</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span id="level-value">1</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </header>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div class="tabs">
Â  Â  Â  Â  Â  Â  <button class="tab-button active" id="btn-basico" onclick="showLevel('basico')">NÃ­vel BÃ¡sico</button>
Â  Â  Â  Â  Â  Â  <button class="tab-button locked" id="btn-intermediario" onclick="showLevel('intermediario')">ğŸ”’ NÃ­vel IntermediÃ¡rio</button>
Â  Â  Â  Â  Â  Â  <button class="tab-button locked" id="btn-avancado" onclick="showLevel('avancado')">ğŸ”’ NÃ­vel AvanÃ§ado</button>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="missions-container">

Â  Â  Â  Â  Â  Â  <div id="basico" class="mission-level active" data-level-name="NÃ­vel BÃ¡sico">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mission-card basico" data-xp="100" data-id="B1" data-level="basico"><div class="mission-info"><h3>B1: OperaÃ§Ãµes BÃ¡sicas</h3><p>Crie um algoritmo que trabalhe com dois valores inteiros predefinidos (15 e 7). O programa deve calcular e exibir a soma e a multiplicaÃ§Ã£o desses dois nÃºmeros.</p></div><div class="mission-action"><button onclick="toggleMission('B1', 100, 'basico')">Concluir</button></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mission-card basico" data-xp="100" data-id="B2" data-level="basico"><div class="mission-info"><h3>B2: Entrada e SaÃ­da de Valores</h3><p>Elabore um programa que receba o preÃ§o unitÃ¡rio de um item e a quantidade comprada pelo usuÃ¡rio. O algoritmo deve calcular e exibir o valor total da compra.</p></div><div class="mission-action"><button onclick="toggleMission('B2', 100, 'basico')">Concluir</button></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mission-card basico" data-xp="100" data-id="B3" data-level="basico"><div class="mission-info"><h3>B3: MÃºltiplos Tipos de Dados</h3><p>Desenvolva um algoritmo que receba o nome de uma pessoa, sua idade (em anos) e sua altura (em metros). O programa deve exibir essas trÃªs informaÃ§Ãµes juntas em uma Ãºnica frase.</p></div><div class="mission-action"><button onclick="toggleMission('B3', 100, 'basico')">Concluir</button></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mission-card basico" data-xp="100" data-id="B4" data-level="basico"><div class="mission-info"><h3>B4: ConversÃ£o de Temperatura</h3><p>Escreva um algoritmo que receba uma temperatura em graus Celsius. O programa deve converter e mostrar a temperatura equivalente em graus Fahrenheit.</p></div><div class="mission-action"><button onclick="toggleMission('B4', 100, 'basico')">Concluir</button></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mission-card basico" data-xp="100" data-id="B5" data-level="basico"><div class="mission-info"><h3>B5: Resto e DÃ­gitos</h3><p>Crie um programa que receba um nÃºmero inteiro com quatro dÃ­gitos. O programa deve isolar e exibir apenas o Ãºltimo dÃ­gito desse nÃºmero.</p></div><div class="mission-action"><button onclick="toggleMission('B5', 100, 'basico')">Concluir</button></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mission-card basico" data-xp="100" data-id="B6" data-level="basico"><div class="mission-info"><h3>B6: Geometria Simples</h3><p>Crie um algoritmo que receba o comprimento do lado de um quadrado. O programa deve calcular e exibir o perÃ­metro e a Ã¡rea desse quadrado.</p></div><div class="mission-action"><button onclick="toggleMission('B6', 100, 'basico')">Concluir</button></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mission-card basico" data-xp="100" data-id="B7" data-level="basico"><div class="mission-info"><h3>B7: MÃ©dia Ponderada</h3><p>FaÃ§a um programa que receba trÃªs notas de um aluno (pesos 2, 3 e 5). O programa deve calcular e exibir a mÃ©dia ponderada dessas notas.</p></div><div class="mission-action"><button onclick="toggleMission('B7', 100, 'basico')">Concluir</button></div></div>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div id="intermediario" class="mission-level" data-level-name="NÃ­vel IntermediÃ¡rio">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mission-card intermediario" data-xp="200" data-id="I1" data-level="intermediario"><div class="mission-info"><h3>I1: CondiÃ§Ã£o Simples</h3><p>Crie um algoritmo que receba um nÃºmero inteiro. Se o nÃºmero for maior que 10, o programa deve exibir uma mensagem confirmando essa condiÃ§Ã£o.</p></div><div class="mission-action"><button onclick="toggleMission('I1', 200, 'intermediario')">Concluir</button></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mission-card intermediario" data-xp="200" data-id="I2" data-level="intermediario"><div class="mission-info"><h3>I2: Estrutura Condicional Completa</h3><p>Desenvolva um programa que receba a idade de uma pessoa. O programa deve informar se a pessoa Ã© maior de idade ou menor de idade.</p></div><div class="mission-action"><button onclick="toggleMission('I2', 200, 'intermediario')">Concluir</button></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mission-card intermediario" data-xp="200" data-id="I3" data-level="intermediario"><div class="mission-info"><h3>I3: Aumento Salarial (CondiÃ§Ã£o com CÃ¡lculo)</h3><p>FaÃ§a um algoritmo que receba o salÃ¡rio de um funcionÃ¡rio. Se o salÃ¡rio for atÃ© R$ 1500, o reajuste Ã© de 15%. Caso contrÃ¡rio, o reajuste Ã© de 10%. Calcule e exiba o novo salÃ¡rio.</p></div><div class="mission-action"><button onclick="toggleMission('I3', 200, 'intermediario')">Concluir</button></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mission-card intermediario" data-xp="200" data-id="I4" data-level="intermediario"><div class="mission-info"><h3>I4: Identificando o Maior de TrÃªs</h3><p>Elabore um programa que receba trÃªs nÃºmeros inteiros. O programa deve identificar e exibir qual dos trÃªs nÃºmeros Ã© o maior.</p></div><div class="mission-action"><button onclick="toggleMission('I4', 200, 'intermediario')">Concluir</button></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mission-card intermediario" data-xp="200" data-id="I5" data-level="intermediario"><div class="mission-info"><h3>I5: CondiÃ§Ã£o e Desconto</h3><p>O programa deve receber o valor da compra e um cÃ³digo (1: Ã  vista, 2: a prazo). Se o cÃ³digo for 1, aplica um desconto de 10%. Exiba o valor final.</p></div><div class="mission-action"><button onclick="toggleMission('I5', 200, 'intermediario')">Concluir</button></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mission-card intermediario" data-xp="200" data-id="I6" data-level="intermediario"><div class="mission-info"><h3>I6: Operadores LÃ³gicos (E)</h3><p>Um aluno estÃ¡ aprovado se a mÃ©dia for 7 ou superior, e o nÃºmero de faltas for 10 ou menos. FaÃ§a o programa exibir o status desse aluno com base na mÃ©dia e nÃºmero de faltas.</p></div><div class="mission-action"><button onclick="toggleMission('I6', 200, 'intermediario')">Concluir</button></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mission-card intermediario" data-xp="200" data-id="I7" data-level="intermediario"><div class="mission-info"><h3>I7: Geometria e CondiÃ§Ãµes Aninhadas</h3><p>O algoritmo deve receber o comprimento de trÃªs segmentos de reta e verificar se formam um triÃ¢ngulo. Se sim, o triÃ¢ngulo deve ser classificado (equilÃ¡tero, isÃ³sceles ou escaleno).</p></div><div class="mission-action"><button onclick="toggleMission('I7', 200, 'intermediario')">Concluir</button></div></div>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div id="avancado" class="mission-level" data-level-name="NÃ­vel AvanÃ§ado">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mission-card avancado" data-xp="300" data-id="A1" data-level="avancado"><div class="mission-info"><h3>A1: SeleÃ§Ã£o MÃºltipla</h3><p>O programa deve receber um nÃºmero inteiro entre 1 e 5. Em seguida, deve exibir o nome do nÃºmero por extenso. Se estiver fora do intervalo, deve mostrar uma mensagem de erro.</p></div><div class="mission-action"><button onclick="toggleMission('A1', 300, 'avancado')">Concluir</button></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mission-card avancado" data-xp="300" data-id="A2" data-level="avancado"><div class="mission-info"><h3>A2: RepetiÃ§Ã£o e Soma Condicional</h3><p>FaÃ§a um algoritmo que calcule e exiba a soma de todos os nÃºmeros pares no intervalo de 1 a 50.</p></div><div class="mission-action"><button onclick="toggleMission('A2', 300, 'avancado')">Concluir</button></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mission-card avancado" data-xp="300" data-id="A3" data-level="avancado"><div class="mission-info"><h3>A3: RepetiÃ§Ã£o com ValidaÃ§Ã£o</h3><p>Escreva um programa que receba 10 nÃºmeros inteiros e some apenas os nÃºmeros que estÃ£o entre 10 e 50. O total da soma deve ser exibido ao final.</p></div><div class="mission-action"><button onclick="toggleMission('A3', 300, 'avancado')">Concluir</button></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mission-card avancado" data-xp="300" data-id="A4" data-level="avancado"><div class="mission-info"><h3>A4: SeleÃ§Ã£o MÃºltipla (Calculadora)</h3><p>Elabore um algoritmo que simule uma calculadora: ele recebe dois nÃºmeros e um cÃ³digo de operaÃ§Ã£o (1 a 4), executa a operaÃ§Ã£o correspondente e exibe o resultado.</p></div><div class="mission-action"><button onclick="toggleMission('A4', 300, 'avancado')">Concluir</button></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mission-card avancado" data-xp="300" data-id="A5" data-level="avancado"><div class="mission-info"><h3>A5: RepetiÃ§Ã£o e Contagem</h3><p>Escreva um programa que receba a idade de 20 pessoas e faÃ§a os cÃ¡lculos necessÃ¡rios para exibir a mÃ©dia das idades e o total de pessoas maiores de idade.</p></div><div class="mission-action"><button onclick="toggleMission('A5', 300, 'avancado')">Concluir</button></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mission-card avancado" data-xp="300" data-id="A6" data-level="avancado"><div class="mission-info"><h3>A6: RepetiÃ§Ã£o (Fatorial)</h3><p>FaÃ§a um algoritmo que leia um nÃºmero inteiro positivo, calcule e exiba o fatorial desse nÃºmero.</p></div><div class="mission-action"><button onclick="toggleMission('A6', 300, 'avancado')">Concluir</button></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mission-card avancado" data-xp="300" data-id="A7" data-level="avancado"><div class="mission-info"><h3>A7: RepetiÃ§Ã£o com Sentinela e Min/MÃ¡x</h3><p>O programa deve receber uma sequÃªncia de nÃºmeros positivos, interromper a leitura quando um nÃºmero negativo for digitado e exibir o maior e o menor nÃºmero positivo que foram lidos.</p></div><div class="mission-action"><button onclick="toggleMission('A7', 300, 'avancado')">Concluir</button></div></div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <script>
Â  Â  Â  Â  let currentXP = 0;
Â  Â  Â  Â  const missions = {};
Â  Â  Â  Â Â 
Â  Â  Â  Â  const motivationalPhrases = [
Â  Â  Â  Â  Â  Â  "VocÃª Ã© um desbravador de algoritmos! Continue avanÃ§ando!",
Â  Â  Â  Â  Â  Â  "MissÃ£o completa! O futuro da programaÃ§Ã£o estÃ¡ em suas mÃ£os.",
Â  Â  Â  Â  Â  Â  "Cada linha de cÃ³digo Ã© um passo para a excelÃªncia. ParabÃ©ns!",
Â  Â  Â  Â  Â  Â  "Seu raciocÃ­nio lÃ³gico estÃ¡ afiado. Nada pode te parar agora.",
Â  Â  Â  Â  Â  Â  "A persistÃªncia Ã© a chave do sucesso na programaÃ§Ã£o. VocÃª a dominou!",
Â  Â  Â  Â  Â  Â  "Conquistou o nÃ­vel! Seu cÃ³digo para VisuAlg estÃ¡ ficando mais robusto e elegante.",
Â  Â  Â  Â  Â  Â  "Um verdadeiro mestre do VisuAlg. Rumo ao prÃ³ximo desafio!",
Â  Â  Â  Â  Â  Â  "O aprendizado Ã© contÃ­nuo, e vocÃª estÃ¡ no caminho certo. Avance!",
Â  Â  Â  Â  Â  Â  "NÃ£o existe erro, existe aprendizado. E vocÃª aprende rÃ¡pido!",
Â  Â  Â  Â  Â  Â  "Seu desempenho estÃ¡ de outro nÃ­vel. Que venham os prÃ³ximos desafios!",
Â  Â  Â  Â  Â  Â  "MissÃ£o dada Ã© missÃ£o cumprida. Seu talento Ã© inegÃ¡vel!",
Â  Â  Â  Â  Â  Â  "O poder da lÃ³gica Ã© seu. Use-o para resolver problemas complexos.",
Â  Â  Â  Â  Â  Â  "ParabÃ©ns! Sua dedicaÃ§Ã£o estÃ¡ construindo uma base sÃ³lida.",
Â  Â  Â  Â  Â  Â  "MissÃ£o Ã©pica! VocÃª acaba de desbloquear novas habilidades.",
Â  Â  Â  Â  Â  Â  "Completou a lista! Celebre a vitÃ³ria e prepare-se para o prÃ³ximo round."
Â  Â  Â  Â  ];

Â  Â  Â  Â  const motivationalAudio = document.getElementById('motivational-audio');
Â  Â  Â  Â  const checkinAudio = document.getElementById('checkin-audio');Â 
Â  Â  Â  Â  const modalContent = document.getElementById('modal-content-area');
Â  Â  Â  Â  const confirmModal = document.getElementById('confirm-modal');
Â  Â  Â  Â  const lockModal = document.getElementById('lock-modal');
Â  Â  Â  Â  const lockMessage = document.getElementById('lock-message');
Â  Â  Â  Â  const levelAudioMap = {
Â  Â  Â  Â  Â  Â  'basico': 'audio1.mp3',
Â  Â  Â  Â  Â  Â  'intermediario': 'audio2.mp3',
Â  Â  Â  Â  Â  Â  'avancado': 'audio3.mp3'
Â  Â  Â  Â  };

Â  Â  Â  Â  // ğŸ‘‡ NOVO: FunÃ§Ã£o para entrar em Tela Cheia e bloquear a orientaÃ§Ã£o
Â  Â  Â  Â  function lockScreen() {
Â  Â  Â  Â  Â  Â  const overlay = document.getElementById('video-overlay');

Â  Â  Â  Â  Â  Â  // 1. Tenta entrar em Tela Cheia no overlay
Â  Â  Â  Â  Â  Â  if (overlay.requestFullscreen || overlay.webkitRequestFullscreen) {
Â  Â  Â  Â  Â  Â  Â  Â  (overlay.requestFullscreen || overlay.webkitRequestFullscreen)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .call(overlay)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .then(() => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // 2. Se a Tela Cheia for um sucesso, tenta bloquear a orientaÃ§Ã£o
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (screen.orientation && screen.orientation.lock) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  screen.orientation.lock('portrait').catch(err => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.warn("Bloqueio de OrientaÃ§Ã£o falhou apÃ³s Fullscreen:", err);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  })
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .catch(err => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.warn("NÃ£o foi possÃ­vel entrar em modo Tela Cheia:", err);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â  // ğŸ‘† FIM DA NOVA FUNÃ‡ÃƒO lockScreen()


Â  Â  Â  Â  function startVideo() {
Â  Â  Â  Â  Â  Â  const introVideo = document.getElementById('intro-video');
Â  Â  Â  Â  Â  Â  const playButton = document.getElementById('play-button-overlay');

Â  Â  Â  Â  Â  Â  if (introVideo) {
Â  Â  Â  Â  Â  Â  Â  Â  // 1. Tenta dar play no vÃ­deo
Â  Â  Â  Â  Â  Â  Â  Â  introVideo.play().catch(error => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error("NÃ£o foi possÃ­vel iniciar o vÃ­deo.");
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // 2. Esconde o Ã­cone de play (agora que o vÃ­deo estÃ¡ reproduzindo)
Â  Â  Â  Â  Â  Â  Â  Â  if (playButton) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  playButton.style.opacity = '0';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  playButton.style.pointerEvents = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â // FUNÃ‡ÃƒO MODIFICADA: Adiciona o desbloqueio de Tela Cheia e OrientaÃ§Ã£o
Â  Â  Â  Â  function iniciarPratica() {
Â  Â  Â  Â  Â  Â  const videoOverlay = document.getElementById('video-overlay');
Â  Â  Â  Â  Â  Â  const introVideo = document.getElementById('intro-video');
Â  Â  Â  Â  Â  Â  const playButton = document.getElementById('play-button-overlay');
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Pausa o vÃ­deo
Â  Â  Â  Â  Â  Â  if (introVideo) {
Â  Â  Â  Â  Â  Â  Â  Â  introVideo.pause();
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // Esconde o Ã­cone de play
Â  Â  Â  Â  Â  Â  if (playButton) {
Â  Â  Â  Â  Â  Â  Â  Â  playButton.style.opacity = '0';
Â  Â  Â  Â  Â  Â  Â  Â  playButton.style.pointerEvents = 'none';
Â  Â  Â  Â  Â  Â  }

			// ğŸ‘‡ NOVO BLOCO DE CÃ“DIGO: DESBLOQUEIA TELA CHEIA E ORIENTAÃ‡ÃƒO
Â  Â  Â  Â  Â  Â  // 1. Sai do Fullscreen (usa document.exitFullscreen ou webkitExitFullscreen)
Â  Â  Â  Â  Â  Â  if (document.fullscreenElement || document.webkitFullscreenElement) {
Â  Â  Â  Â  Â  Â  Â  Â  (document.exitFullscreen || document.webkitExitFullscreen).call(document).catch(err => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.warn("Erro ao sair do Fullscreen:", err);
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // 2. Libera a OrientaÃ§Ã£o
Â  Â  Â  Â  Â  Â  if (screen.orientation && screen.orientation.unlock) {
Â  Â  Â  Â  Â  Â  Â  Â  screen.orientation.unlock();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  // ğŸ‘† FIM DO NOVO BLOCO

Â  Â  Â  Â  Â  Â  // Inicia a transiÃ§Ã£o de opacidade para ocultar o overlay suavemente
Â  Â  Â  Â  Â  Â  videoOverlay.style.opacity = '0';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Remove o overlay do fluxo apÃ³s a transiÃ§Ã£o
Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  videoOverlay.style.display = 'none';
Â  Â  Â  Â  Â  Â  }, 500); // 500ms corresponde ao tempo da transiÃ§Ã£o CSS
Â  Â  Â  Â  }

Â  Â  Â  Â  // VariÃ¡vel de controle para o avanÃ§o automÃ¡tico de nÃ­vel
Â  Â  Â  Â  let nextLevelToShow = null; 

Â  Â  Â  Â  function playCheckinAudio() {
Â  Â  Â  Â  Â  Â  if (checkinAudio) {
Â  Â  Â  Â  Â  Â  Â  Â  checkinAudio.currentTime = 0;Â 
Â  Â  Â  Â  Â  Â  Â  Â  checkinAudio.play().catch(error => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.warn("A reproduÃ§Ã£o de Ã¡udio 'checkin.mp3' foi bloqueada pelo navegador.");
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function playLevelCompleteAudio(levelId) {
Â  Â  Â  Â  Â  Â  const audioSrc = levelAudioMap[levelId];
Â  Â  Â  Â  Â  Â  if (audioSrc) {
Â  Â  Â  Â  Â  Â  Â  Â  motivationalAudio.onended = null;
Â  Â  Â  Â  Â  Â  Â  Â  motivationalAudio.src = audioSrc;
Â  Â  Â  Â  Â  Â  Â  Â  motivationalAudio.play().catch(error => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.warn("A reproduÃ§Ã£o de Ã¡udio de nÃ­vel foi bloqueada pelo navegador.");
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
	function playUltimateCompletionAudio() {
Â  Â  Â  Â  Â  Â  // Toca audio3.mp3 - Mantido para o efeito de conclusÃ£o definitiva
Â  Â  Â  Â  Â  Â  motivationalAudio.onended = null;
Â  Â  Â  Â  Â  Â  motivationalAudio.src = 'audio3.mp3';
Â  Â  Â  Â  Â  Â  motivationalAudio.play().catch(error => {
Â  Â  Â  Â  Â  Â  console.warn("A reproduÃ§Ã£o de audio 'audio3.mp3' foi bloqueada.");
Â  Â  Â  Â  });
Â  Â Â 
Â  Â  Â  Â  // Nenhuma referÃªncia ao audio4.mp3
Â  Â  Â  Â  }

Â  Â  Â  Â  function showMotivationalModal(title, message, isUltimate = false) {
Â  Â  Â  Â  Â  Â  document.getElementById('modal-title').innerHTML = title;
Â  Â  Â  Â  Â  Â  document.getElementById('modal-message').innerHTML = message;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if (isUltimate) {
Â  Â  Â  Â  Â  Â  Â  Â  modalContent.classList.add('ultimate');
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  modalContent.classList.remove('ultimate');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  document.getElementById('motivational-modal').style.display = 'flex';
Â  Â  Â  Â  }

	function closeModal() { // FUNÃ‡ÃƒO MODIFICADA
Â  Â  		document.getElementById('motivational-modal').style.display = 'none';
Â  Â  		motivationalAudio.pause();
Â  Â  		motivationalAudio.currentTime = 0;
Â  Â  		motivationalAudio.onended = null;Â 
Â  Â Â 
Â  Â 		// Removida a lÃ³gica de pausa do audio4.mp3
Â  Â Â 
Â  Â  		// NOVO: Verifica e avanÃ§a para o prÃ³ximo nÃ­vel
Â  Â  		if (nextLevelToShow) {Â 
Â  Â  Â  Â  	showLevel(nextLevelToShow);
Â  Â  Â  Â  	nextLevelToShow = null; // Reseta a variÃ¡vel apÃ³s usar
Â  Â  		} // FIM DO NOVO BLOCO
	}

Â  Â  Â  Â  function closeLockModal() {
Â  Â  Â  Â  Â  Â  lockModal.style.display = 'none';
Â  Â  Â  Â  }

Â  Â  Â  Â  function triggerResetConfirmation() {
Â  Â  Â  Â  Â  Â  confirmModal.style.display = 'flex';
Â  Â  Â  Â  }

Â  Â  Â  Â  function closeConfirmModal() {
Â  Â  Â  Â  Â  Â  confirmModal.style.display = 'none';
Â  Â  Â  Â  }

Â  Â  Â  Â  function goToMainMenu() {
Â  Â  Â  Â  Â  Â  window.location.href = "https://settbytes.github.io/code_missoes/";
Â  Â  Â  Â  }

Â  Â  Â  Â  function confirmReset() {
Â  Â  Â  Â  Â  Â  // Zera o progresso
Â  Â  Â  Â  Â  Â  resetAllMissions();
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Fecha o modal de confirmaÃ§Ã£o
Â  Â  Â  Â  Â  Â  closeConfirmModal();
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Exibe o modal de feedback de reinÃ­cio (que estava usando o alert)
Â  Â  Â  Â  Â  Â  // Reutilizando o modal motivacional para dar feedback
Â  Â  Â  Â  Â  Â  showMotivationalModal("Progresso Reiniciado!", "Todas as missÃµes foram desmarcadas. ReinÃ­cio de progresso concluÃ­do!", false);
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Garante que o nÃ­vel BÃ¡sico seja exibido
Â  Â  Â  Â  Â  Â  showLevel('basico');Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  function showUltimateCompletionModal() {
Â  Â  Â  Â  Â  Â  const ultimateMessage = "Lembre-se: â€œA excelÃªncia nada mais Ã© do que um amontoado de <br>comportamentos que, isoladamente, nada tÃªm de extraordinÃ¡rio.â€";
Â  Â  Â  Â  Â  Â  const ultimateTitle = "ğŸ† PARABÃ‰NS POR CONCLUIR TODAS AS MISSÃ•ES! ğŸš€";
Â  Â  Â  Â  Â  Â  showMotivationalModal(ultimateTitle, ultimateMessage, true);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // VariÃ¡vel de controle para ignorar eventos na inicializaÃ§Ã£o
Â  Â  Â  Â  let isInitialLoad = true;Â 

Â  Â  Â  Â  // --- FunÃ§Ãµes de LÃ³gica de Estado ---

Â  Â  Â  Â  function loadState() {
Â  Â  Â  Â  Â  Â  const savedMissions = localStorage.getItem('missions');
Â  Â  Â  Â  Â  Â  if (savedMissions) {
Â  Â  Â  Â  Â  Â  Â  Â  Object.assign(missions, JSON.parse(savedMissions));
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  // Chama updateAll para carregar o estado
Â  Â  Â  Â  Â  Â  updateAll();
Â  Â  Â  Â  }

Â  Â  Â  Â  function saveState() {
Â  Â  Â  Â  Â  Â  localStorage.setItem('missions', JSON.stringify(missions));
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  function isLevelCompleted(levelId) {
Â  Â  Â  Â  Â  Â  const levelCards = document.querySelectorAll(`.mission-card[data-level="${levelId}"]`);
Â  Â  Â  Â  Â  Â  if (levelCards.length === 0) return false;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  let completedCount = 0;
Â  Â  Â  Â  Â  Â  levelCards.forEach(card => {
Â  Â  Â  Â  Â  Â  Â  Â  const id = card.getAttribute('data-id');
Â  Â  Â  Â  Â  Â  Â  Â  if (missions[id]) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  completedCount++;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  return completedCount === levelCards.length;
Â  Â  Â  Â  }

Â  Â  Â  Â  let completedLevels = {Â 
Â  Â  Â  Â  Â  Â  'basico': false,
Â  Â  Â  Â  Â  Â  'intermediario': false,
Â  Â  Â  Â  Â  Â  'avancado': false
Â  Â  Â  Â  };
Â  Â  Â  Â Â 
Â  Â  Â  Â  function resetAllMissions() {
Â  Â  Â  Â  Â  Â  Object.keys(missions).forEach(key => delete missions[key]);
Â  Â  Â  Â  Â  Â  localStorage.setItem('ultimate_completed', 'false');
Â  Â  Â  Â  Â  Â  localStorage.removeItem('missions');Â 
Â  Â  Â  Â  Â  Â  // Define isInitialLoad como false antes de chamar updateScore para permitir notificaÃ§Ãµes
Â  Â  Â  Â  Â  Â  isInitialLoad = false;Â 
Â  Â  Â  Â  Â  Â  updateScore();Â 
Â  Â  Â  Â  Â  Â  // REMOVIDO: alert("Todas as missÃµes foram desmarcadas. ReinÃ­cio de progresso concluÃ­do!");
Â  Â  Â  Â  }

Â  Â  Â  Â  function calculateCurrentLevel() {
Â  Â  Â  Â  Â  Â  if (isLevelCompleted('avancado') || isLevelCompleted('intermediario')) {
Â  Â  Â  Â  Â  Â  Â  Â  return 3;
Â  Â  Â  Â  Â  Â  } else if (isLevelCompleted('basico')) {
Â  Â  Â  Â  Â  Â  Â  Â  return 2;
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  return 1;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function updateLockState() {
Â  Â  Â  Â  Â  Â  const basicCompleted = isLevelCompleted('basico');
Â  Â  Â  Â  Â  Â  const intermediateCompleted = isLevelCompleted('intermediario');
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const btnIntermediario = document.getElementById('btn-intermediario');
Â  Â  Â  Â  Â  Â  const btnAvancado = document.getElementById('btn-avancado');

Â  Â  Â  Â  Â  Â  if (basicCompleted) {
Â  Â  Â  Â  Â  Â  Â  Â  btnIntermediario.classList.remove('locked');
Â  Â  Â  Â  Â  Â  Â  Â  btnIntermediario.textContent = 'NÃ­vel IntermediÃ¡rio';
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  btnIntermediario.classList.add('locked');
Â  Â  Â  Â  Â  Â  Â  Â  btnIntermediario.textContent = 'ğŸ”’ NÃ­vel IntermediÃ¡rio';
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  if (basicCompleted && intermediateCompleted) {
Â  Â  Â  Â  Â  Â  Â  Â  btnAvancado.classList.remove('locked');
Â  Â  Â  Â  Â  Â  Â  Â  btnAvancado.textContent = 'NÃ­vel AvanÃ§ado';
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  btnAvancado.classList.add('locked');
Â  Â  Â  Â  Â  Â  Â  Â  btnAvancado.classList.remove('active');Â 
Â  Â  Â  Â  Â  Â  Â  Â  btnAvancado.textContent = 'ğŸ”’ NÃ­vel AvanÃ§ado';
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function updateScore() { // FUNÃ‡ÃƒO MODIFICADA
Â  Â  Â  Â  Â  Â  currentXP = 0;
Â  Â  Â  Â  Â  Â  let totalCompletedMissions = 0;
Â  Â  Â  Â  Â  Â  const previousCompletedLevels = { ...completedLevels };Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  completedLevels = { 'basico': false, 'intermediario': false, 'avancado': false };
Â  Â  Â  Â  Â  Â  const totalMissions = document.querySelectorAll('.mission-card').length;

Â  Â  Â  Â  Â  Â  document.querySelectorAll('.mission-card').forEach(card => {
Â  Â  Â  Â  Â  Â  Â  Â  const id = card.getAttribute('data-id');
Â  Â  Â  Â  Â  Â  Â  Â  const xp = parseInt(card.getAttribute('data-xp'));
Â  Â  Â  Â  Â  Â  Â  Â  const button = card.querySelector('button');

Â  Â  Â  Â  Â  Â  Â  Â  if (missions[id]) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  currentXP += xp;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totalCompletedMissions++;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  button.classList.add('completed');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  button.textContent = 'Refazer';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  card.style.opacity = '0.6';
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  button.classList.remove('completed');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  button.textContent = 'Concluir';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  card.style.opacity = '1';
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  const currentLevel = calculateCurrentLevel();
Â  Â  Â  Â  Â  Â  document.getElementById('xp-value').textContent = currentXP;
Â  Â  Â  Â  Â  Â  document.getElementById('level-value').textContent = currentLevel;

Â  Â  Â  Â  Â  Â  updateLockState();Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const isUltimateCompletion = (totalCompletedMissions === totalMissions);
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if (isUltimateCompletion) {
Â  Â  Â  Â  Â  Â  Â  Â  const isUltimateCompletedPreviously = localStorage.getItem('ultimate_completed') === 'true';
Â  Â  Â  Â  Â  Â  Â  Â  if (!isUltimateCompletedPreviously && !isInitialLoad) {Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  showUltimateCompletionModal();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  localStorage.setItem('ultimate_completed', 'true');
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â localStorage.setItem('ultimate_completed', 'false');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // 2. CHECAGEM DE NÃVEL
Â  Â  Â  Â  Â  Â  ['basico', 'intermediario', 'avancado'].forEach(levelId => {
Â  Â  Â  Â  Â  Â  Â  Â  const isLevelCurrentlyCompleted = isLevelCompleted(levelId);
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  if (isLevelCurrentlyCompleted) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  completedLevels[levelId] = true;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (previousCompletedLevels[levelId] === false && !isInitialLoad) {Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // INÃCIO DO NOVO BLOCO: LÃ³gica de avanÃ§o automÃ¡tico
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let nextLevelId = null;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (levelId === 'basico') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  nextLevelId = 'intermediario';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (levelId === 'intermediario') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  nextLevelId = 'avancado';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (nextLevelId) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  nextLevelToShow = nextLevelId; // Define o prÃ³ximo nÃ­vel para o fechamento do modal
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // FIM DO NOVO BLOCO
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (isUltimateCompletion && levelId === 'avancado') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  playUltimateCompletionAudio();Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const levelName = document.getElementById(levelId).getAttribute('data-level-name');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const randomIndex = Math.floor(Math.random() * motivationalPhrases.length);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const message = motivationalPhrases[randomIndex];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  showMotivationalModal(`${levelName} ConcluÃ­do!`, message);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  playLevelCompleteAudio(levelId);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Reinicia o controle de load inicial apÃ³s a primeira execuÃ§Ã£o completa
Â  Â  Â  Â  Â  Â  if (isInitialLoad) {
Â  Â  Â  Â  Â  Â  Â  Â  Â isInitialLoad = false;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  saveState();
Â  Â  Â  Â  }

Â  Â  Â  Â  function toggleMission(id, xpValue, level) {
Â  Â  Â  Â  Â  Â  const wasCompleted = missions[id];
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if (level === 'intermediario' && !isLevelCompleted('basico')) {
Â  Â  Â  Â  Â  Â  Â  Â  lockMessage.textContent = "Para iniciar o NÃ­vel IntermediÃ¡rio, vocÃª deve primeiro concluir todas as missÃµes do NÃ­vel BÃ¡sico.";
Â  Â  Â  Â  Â  Â  Â  Â  lockModal.style.display = 'flex';
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  } else if (level === 'avancado' && (!isLevelCompleted('basico') || !isLevelCompleted('intermediario'))) {
Â  Â  Â  Â  Â  Â  Â  Â  lockMessage.textContent = "Para iniciar o NÃ­vel AvanÃ§ado, vocÃª deve primeiro concluir todas as missÃµes do NÃ­vel BÃ¡sico e do NÃ­vel IntermediÃ¡rio.";
Â  Â  Â  Â  Â  Â  Â  Â  lockModal.style.display = 'flex';
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  if (wasCompleted) {
Â  Â  Â  Â  Â  Â  Â  Â  missions[id] = false;
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  missions[id] = true;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if ( (missions[id] === false) || (missions[id] === true && !isLevelCompleted(level)) ) {
Â  Â 	Â  Â  Â  Â  setTimeout(playCheckinAudio, 20);Â 
	Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  updateScore();
Â  Â  Â  Â  }

Â  Â  Â  Â  function showLevel(levelId) {
Â  Â  Â  Â  Â  Â  const btn = document.getElementById(`btn-${levelId}`);
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if (btn.classList.contains('locked')) {
Â  Â  Â  Â  Â  Â  Â  Â  if (levelId === 'intermediario') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  lockMessage.textContent = "Para iniciar o NÃ­vel IntermediÃ¡rio, vocÃª deve primeiro concluir todas as missÃµes do NÃ­vel BÃ¡sico.";
Â  Â  Â  Â  Â  Â  Â  Â  } else if (levelId === 'avancado') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  lockMessage.textContent = "Para iniciar o NÃ­vel AvanÃ§ado, vocÃª deve primeiro concluir todas as missÃµes do NÃ­vel BÃ¡sico e do NÃ­vel IntermediÃ¡rio.";
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  lockModal.style.display = 'flex';
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  document.querySelectorAll('.mission-level').forEach(div => {
Â  Â  Â  Â  Â  Â  Â  Â  div.classList.remove('active');
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  document.getElementById(levelId).classList.add('active');

Â  Â  Â  Â  Â  Â  document.querySelectorAll('.tab-button').forEach(btn => {
Â  Â  Â  Â  Â  Â  Â  Â  btn.classList.remove('active');
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  btn.classList.add('active');
Â  Â  Â  Â  }

Â  Â  Â  Â  function updateAll() {
Â  Â  Â  Â  Â  Â  updateLockState();Â 
Â  Â  Â  Â  Â  Â  showLevel('basico');
Â  Â  Â  Â  Â  Â  updateScore();
Â  Â  Â  Â  }

Â  Â  Â  Â  // CORREÃ‡ÃƒO: Tenta iniciar o vÃ­deo automaticamente e carrega o estado em seguida.
Â  Â  Â  Â  document.addEventListener('DOMContentLoaded', () => {
Â  Â  Â  Â  Â  Â  loadState();
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const introVideo = document.getElementById('intro-video');
Â  Â  Â  Â  Â  Â  const playButton = document.getElementById('play-button-overlay');Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // ğŸ›‘ IMPORTANTE: RemoÃ§Ã£o da lÃ³gica de autoplay para evitar problemas de zoom no inÃ­cio.

Â  Â  Â  Â  Â  Â  if (introVideo) {
Â  Â  Â  Â  Â  Â  Â  Â  // Tenta reproduzir. Se o navegador bloquear, ele cairÃ¡ no .catch
Â  Â  Â  Â  Â  Â  Â  Â  introVideo.play().catch(error => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // SE o autoplay falhar, mostramos o Ã­cone de play:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (playButton) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  playButton.style.opacity = '1';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  playButton.style.pointerEvents = 'auto'; // Habilita o clique no Ã­cone
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Configura o clique no Ã­cone para chamar a funÃ§Ã£o startVideo
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  playButton.onclick = startVideo;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.warn("A reproduÃ§Ã£o automÃ¡tica do vÃ­deo foi bloqueada pelo navegador.");
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  // REMOVIDO: O bloco de cÃ³digo ineficaz de screen.orientation.lock()
Â  Â  Â  Â  });

Â  Â  </script>

</body>
</html>
